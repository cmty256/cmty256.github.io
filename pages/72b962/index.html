<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>设计思路 | 沉梦听雨的编程指南</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="https://cmty256.github.io/imgs-blog/logo/白云.38zbldnhh180.jpg">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?04a2517feeaf9f0d4d507cee97057d7c";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
            })();
          </script>
    <meta name="description" content="满招损，谦受益">
    <meta name="msvalidate.01" content="C6CD7D17F253A4A17B19D2EEBC95189E">
    <meta name="google-site-verification" content="1_X5AziuUEYcv2PowGXK9yiTwKre1owdUNTNB28UwQo">
    <meta name="keywords" content="编程分享, 开发, 程序员, Java, 计算机, IT, 八股">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.3543fb06.css" as="style"><link rel="preload" href="/assets/js/app.c5b6e775.js" as="script"><link rel="preload" href="/assets/js/2.02bc9df6.js" as="script"><link rel="preload" href="/assets/js/277.615493a1.js" as="script"><link rel="preload" href="/assets/js/6.9155b086.js" as="script"><link rel="prefetch" href="/assets/js/10.8af45bef.js"><link rel="prefetch" href="/assets/js/100.ff7d1a47.js"><link rel="prefetch" href="/assets/js/101.bb12c94c.js"><link rel="prefetch" href="/assets/js/102.6b9ae8e5.js"><link rel="prefetch" href="/assets/js/103.0fe4e5f5.js"><link rel="prefetch" href="/assets/js/104.3f40c037.js"><link rel="prefetch" href="/assets/js/105.2259c935.js"><link rel="prefetch" href="/assets/js/106.e469a88e.js"><link rel="prefetch" href="/assets/js/107.4fd05738.js"><link rel="prefetch" href="/assets/js/108.3888e0f5.js"><link rel="prefetch" href="/assets/js/109.1a3c12a2.js"><link rel="prefetch" href="/assets/js/11.eb8ff9b9.js"><link rel="prefetch" href="/assets/js/110.dfcd2144.js"><link rel="prefetch" href="/assets/js/111.f069effc.js"><link rel="prefetch" href="/assets/js/112.a7749917.js"><link rel="prefetch" href="/assets/js/113.abd16378.js"><link rel="prefetch" href="/assets/js/114.5979e515.js"><link rel="prefetch" href="/assets/js/115.4af12687.js"><link rel="prefetch" href="/assets/js/116.5c93f3dd.js"><link rel="prefetch" href="/assets/js/117.ff495217.js"><link rel="prefetch" href="/assets/js/118.156d18c1.js"><link rel="prefetch" href="/assets/js/119.5d994ab1.js"><link rel="prefetch" href="/assets/js/12.1727252d.js"><link rel="prefetch" href="/assets/js/120.e932c04e.js"><link rel="prefetch" href="/assets/js/121.50c079e8.js"><link rel="prefetch" href="/assets/js/122.998eb9d1.js"><link rel="prefetch" href="/assets/js/123.94ebf360.js"><link rel="prefetch" href="/assets/js/124.aaa1a432.js"><link rel="prefetch" href="/assets/js/125.71a64cb6.js"><link rel="prefetch" href="/assets/js/126.de09bf22.js"><link rel="prefetch" href="/assets/js/127.c162b629.js"><link rel="prefetch" href="/assets/js/128.fee8673f.js"><link rel="prefetch" href="/assets/js/129.fbfc7a3e.js"><link rel="prefetch" href="/assets/js/13.876bdb1d.js"><link rel="prefetch" href="/assets/js/130.82656662.js"><link rel="prefetch" href="/assets/js/131.d12a5333.js"><link rel="prefetch" href="/assets/js/132.dc8c8f00.js"><link rel="prefetch" href="/assets/js/133.3ff253cd.js"><link rel="prefetch" href="/assets/js/134.193c341c.js"><link rel="prefetch" href="/assets/js/135.e7d901c4.js"><link rel="prefetch" href="/assets/js/136.65c641ea.js"><link rel="prefetch" href="/assets/js/137.9db0e6fa.js"><link rel="prefetch" href="/assets/js/138.ae8a85d7.js"><link rel="prefetch" href="/assets/js/139.e79e2c31.js"><link rel="prefetch" href="/assets/js/14.6c9c1fb8.js"><link rel="prefetch" href="/assets/js/140.44a2eab4.js"><link rel="prefetch" href="/assets/js/141.606716be.js"><link rel="prefetch" href="/assets/js/142.5cfe7b25.js"><link rel="prefetch" href="/assets/js/143.8f6a8699.js"><link rel="prefetch" href="/assets/js/144.8e59c978.js"><link rel="prefetch" href="/assets/js/145.ac2f73f5.js"><link rel="prefetch" href="/assets/js/146.058a1ae3.js"><link rel="prefetch" href="/assets/js/147.44cd508f.js"><link rel="prefetch" href="/assets/js/148.afdb7aab.js"><link rel="prefetch" href="/assets/js/149.3a52837e.js"><link rel="prefetch" href="/assets/js/15.f2b05d90.js"><link rel="prefetch" href="/assets/js/150.1cad81e4.js"><link rel="prefetch" href="/assets/js/151.25bce295.js"><link rel="prefetch" href="/assets/js/152.445df83f.js"><link rel="prefetch" href="/assets/js/153.b08e97a6.js"><link rel="prefetch" href="/assets/js/154.08fdd0e9.js"><link rel="prefetch" href="/assets/js/155.7785cbb3.js"><link rel="prefetch" href="/assets/js/156.7dc20cfd.js"><link rel="prefetch" href="/assets/js/157.70797122.js"><link rel="prefetch" href="/assets/js/158.17f5ef09.js"><link rel="prefetch" href="/assets/js/159.7268940e.js"><link rel="prefetch" href="/assets/js/16.08f73da3.js"><link rel="prefetch" href="/assets/js/160.218a950a.js"><link rel="prefetch" href="/assets/js/161.a3a0a113.js"><link rel="prefetch" href="/assets/js/162.8c2b1d29.js"><link rel="prefetch" href="/assets/js/163.bbd49da8.js"><link rel="prefetch" href="/assets/js/164.ccfad889.js"><link rel="prefetch" href="/assets/js/165.371d3fe2.js"><link rel="prefetch" href="/assets/js/166.338ad301.js"><link rel="prefetch" href="/assets/js/167.e3d112f3.js"><link rel="prefetch" href="/assets/js/168.c42df709.js"><link rel="prefetch" href="/assets/js/169.04ea32c1.js"><link rel="prefetch" href="/assets/js/17.cd941ab3.js"><link rel="prefetch" href="/assets/js/170.ebea83c2.js"><link rel="prefetch" href="/assets/js/171.0040c6c8.js"><link rel="prefetch" href="/assets/js/172.d94aa024.js"><link rel="prefetch" href="/assets/js/173.33eb227a.js"><link rel="prefetch" href="/assets/js/174.0d42d51f.js"><link rel="prefetch" href="/assets/js/175.f056baab.js"><link rel="prefetch" href="/assets/js/176.707dbed2.js"><link rel="prefetch" href="/assets/js/177.580e8514.js"><link rel="prefetch" href="/assets/js/178.763c26e8.js"><link rel="prefetch" href="/assets/js/179.234836cf.js"><link rel="prefetch" href="/assets/js/18.94411902.js"><link rel="prefetch" href="/assets/js/180.e0465e63.js"><link rel="prefetch" href="/assets/js/181.dabf10e7.js"><link rel="prefetch" href="/assets/js/182.7ebd26ca.js"><link rel="prefetch" href="/assets/js/183.c67c827c.js"><link rel="prefetch" href="/assets/js/184.87ade04f.js"><link rel="prefetch" href="/assets/js/185.1aeff2de.js"><link rel="prefetch" href="/assets/js/186.3567814c.js"><link rel="prefetch" href="/assets/js/187.daf23af3.js"><link rel="prefetch" href="/assets/js/188.b04405fc.js"><link rel="prefetch" href="/assets/js/189.d95788c4.js"><link rel="prefetch" href="/assets/js/19.cdac3f9a.js"><link rel="prefetch" href="/assets/js/190.6587952d.js"><link rel="prefetch" href="/assets/js/191.a2e2dc8f.js"><link rel="prefetch" href="/assets/js/192.fb0821b2.js"><link rel="prefetch" href="/assets/js/193.63d735ae.js"><link rel="prefetch" href="/assets/js/194.52a5f049.js"><link rel="prefetch" href="/assets/js/195.e9b054aa.js"><link rel="prefetch" href="/assets/js/196.255f3f53.js"><link rel="prefetch" href="/assets/js/197.7666f978.js"><link rel="prefetch" href="/assets/js/198.25bb6bd9.js"><link rel="prefetch" href="/assets/js/199.dd3b2368.js"><link rel="prefetch" href="/assets/js/20.68d82b3e.js"><link rel="prefetch" href="/assets/js/200.c8f93061.js"><link rel="prefetch" href="/assets/js/201.35b12859.js"><link rel="prefetch" href="/assets/js/202.14016ccc.js"><link rel="prefetch" href="/assets/js/203.e7875859.js"><link rel="prefetch" href="/assets/js/204.5ee6e0d9.js"><link rel="prefetch" href="/assets/js/205.da220bb0.js"><link rel="prefetch" href="/assets/js/206.bd696681.js"><link rel="prefetch" href="/assets/js/207.a01cc1b7.js"><link rel="prefetch" href="/assets/js/208.5cb77481.js"><link rel="prefetch" href="/assets/js/209.aa31495b.js"><link rel="prefetch" href="/assets/js/21.52d9cb5d.js"><link rel="prefetch" href="/assets/js/210.cdf22678.js"><link rel="prefetch" href="/assets/js/211.ee455d9d.js"><link rel="prefetch" href="/assets/js/212.36dd74a3.js"><link rel="prefetch" href="/assets/js/213.1112809b.js"><link rel="prefetch" href="/assets/js/214.d0c768d5.js"><link rel="prefetch" href="/assets/js/215.776ca731.js"><link rel="prefetch" href="/assets/js/216.ae342e4e.js"><link rel="prefetch" href="/assets/js/217.f152816c.js"><link rel="prefetch" href="/assets/js/218.6c97ce11.js"><link rel="prefetch" href="/assets/js/219.af92480b.js"><link rel="prefetch" href="/assets/js/22.65f4974e.js"><link rel="prefetch" href="/assets/js/220.a1ff99b4.js"><link rel="prefetch" href="/assets/js/221.3ad352a7.js"><link rel="prefetch" href="/assets/js/222.05348fe3.js"><link rel="prefetch" href="/assets/js/223.f5d35f40.js"><link rel="prefetch" href="/assets/js/224.0f974664.js"><link rel="prefetch" href="/assets/js/225.0ae80b7a.js"><link rel="prefetch" href="/assets/js/226.b4fc9d66.js"><link rel="prefetch" href="/assets/js/227.ac37478d.js"><link rel="prefetch" href="/assets/js/228.9fba3c6d.js"><link rel="prefetch" href="/assets/js/229.b2acffa1.js"><link rel="prefetch" href="/assets/js/23.3fd1b1d1.js"><link rel="prefetch" href="/assets/js/230.ca676b49.js"><link rel="prefetch" href="/assets/js/231.cab80a3a.js"><link rel="prefetch" href="/assets/js/232.c72607d0.js"><link rel="prefetch" href="/assets/js/233.810c733a.js"><link rel="prefetch" href="/assets/js/234.03e9bfd3.js"><link rel="prefetch" href="/assets/js/235.5fe6acec.js"><link rel="prefetch" href="/assets/js/236.12f596c9.js"><link rel="prefetch" href="/assets/js/237.b12da341.js"><link rel="prefetch" href="/assets/js/238.2f14734f.js"><link rel="prefetch" href="/assets/js/239.2f125677.js"><link rel="prefetch" href="/assets/js/24.5b291984.js"><link rel="prefetch" href="/assets/js/240.415442d3.js"><link rel="prefetch" href="/assets/js/241.8d71e900.js"><link rel="prefetch" href="/assets/js/242.82211025.js"><link rel="prefetch" href="/assets/js/243.ab31cc0a.js"><link rel="prefetch" href="/assets/js/244.37b2c546.js"><link rel="prefetch" href="/assets/js/245.d505885b.js"><link rel="prefetch" href="/assets/js/246.64583fe4.js"><link rel="prefetch" href="/assets/js/247.f62c86af.js"><link rel="prefetch" href="/assets/js/248.b911ff6b.js"><link rel="prefetch" href="/assets/js/249.3fe3b692.js"><link rel="prefetch" href="/assets/js/25.61519c5d.js"><link rel="prefetch" href="/assets/js/250.a9de4998.js"><link rel="prefetch" href="/assets/js/251.e68cd14e.js"><link rel="prefetch" href="/assets/js/252.46f56391.js"><link rel="prefetch" href="/assets/js/253.1f483f66.js"><link rel="prefetch" href="/assets/js/254.598cdad2.js"><link rel="prefetch" href="/assets/js/255.aff028a5.js"><link rel="prefetch" href="/assets/js/256.90c21b1c.js"><link rel="prefetch" href="/assets/js/257.ac5f0763.js"><link rel="prefetch" href="/assets/js/258.32e2b077.js"><link rel="prefetch" href="/assets/js/259.4fc2f21e.js"><link rel="prefetch" href="/assets/js/26.2852ae7b.js"><link rel="prefetch" href="/assets/js/260.dc72ee12.js"><link rel="prefetch" href="/assets/js/261.a1a02be9.js"><link rel="prefetch" href="/assets/js/262.3ca14f35.js"><link rel="prefetch" href="/assets/js/263.6378f777.js"><link rel="prefetch" href="/assets/js/264.095775f0.js"><link rel="prefetch" href="/assets/js/265.8ad876f0.js"><link rel="prefetch" href="/assets/js/266.5dad1bfa.js"><link rel="prefetch" href="/assets/js/267.76852235.js"><link rel="prefetch" href="/assets/js/268.0457aa50.js"><link rel="prefetch" href="/assets/js/269.ab4de40b.js"><link rel="prefetch" href="/assets/js/27.13476254.js"><link rel="prefetch" href="/assets/js/270.bc2c2346.js"><link rel="prefetch" href="/assets/js/271.dc8010b0.js"><link rel="prefetch" href="/assets/js/272.59691d4d.js"><link rel="prefetch" href="/assets/js/273.06215134.js"><link rel="prefetch" href="/assets/js/274.c9da244d.js"><link rel="prefetch" href="/assets/js/275.2d9424a0.js"><link rel="prefetch" href="/assets/js/276.f9a15931.js"><link rel="prefetch" href="/assets/js/278.9241abc1.js"><link rel="prefetch" href="/assets/js/279.6f1968ce.js"><link rel="prefetch" href="/assets/js/28.86ed9600.js"><link rel="prefetch" href="/assets/js/280.a24595f4.js"><link rel="prefetch" href="/assets/js/281.8dfba195.js"><link rel="prefetch" href="/assets/js/282.2b16ec08.js"><link rel="prefetch" href="/assets/js/283.5b549615.js"><link rel="prefetch" href="/assets/js/284.e50069ff.js"><link rel="prefetch" href="/assets/js/285.eb435673.js"><link rel="prefetch" href="/assets/js/286.d1a0611a.js"><link rel="prefetch" href="/assets/js/287.47a256bc.js"><link rel="prefetch" href="/assets/js/288.01fe329c.js"><link rel="prefetch" href="/assets/js/289.ad5465a4.js"><link rel="prefetch" href="/assets/js/29.1613c2a6.js"><link rel="prefetch" href="/assets/js/290.f8fa8a28.js"><link rel="prefetch" href="/assets/js/291.1df1a328.js"><link rel="prefetch" href="/assets/js/3.931a19c0.js"><link rel="prefetch" href="/assets/js/30.bf93a7ce.js"><link rel="prefetch" href="/assets/js/31.803e31bb.js"><link rel="prefetch" href="/assets/js/32.fe7e41fa.js"><link rel="prefetch" href="/assets/js/33.5b60010a.js"><link rel="prefetch" href="/assets/js/34.f8c8ae25.js"><link rel="prefetch" href="/assets/js/35.bcf15f48.js"><link rel="prefetch" href="/assets/js/36.3d67ccdf.js"><link rel="prefetch" href="/assets/js/37.080ed8b3.js"><link rel="prefetch" href="/assets/js/38.2352c268.js"><link rel="prefetch" href="/assets/js/39.f5143f6a.js"><link rel="prefetch" href="/assets/js/4.5bec1bd0.js"><link rel="prefetch" href="/assets/js/40.e7235f22.js"><link rel="prefetch" href="/assets/js/41.f3bb95a0.js"><link rel="prefetch" href="/assets/js/42.4fef3973.js"><link rel="prefetch" href="/assets/js/43.7068ccaa.js"><link rel="prefetch" href="/assets/js/44.c0068ac1.js"><link rel="prefetch" href="/assets/js/45.39c755bf.js"><link rel="prefetch" href="/assets/js/46.19878695.js"><link rel="prefetch" href="/assets/js/47.78ee1ec8.js"><link rel="prefetch" href="/assets/js/48.8fd01de9.js"><link rel="prefetch" href="/assets/js/49.ceb682dc.js"><link rel="prefetch" href="/assets/js/5.f7dbece9.js"><link rel="prefetch" href="/assets/js/50.96b35b95.js"><link rel="prefetch" href="/assets/js/51.f6d1bfa0.js"><link rel="prefetch" href="/assets/js/52.c8c5c4dd.js"><link rel="prefetch" href="/assets/js/53.72519b8a.js"><link rel="prefetch" href="/assets/js/54.1cdd57c9.js"><link rel="prefetch" href="/assets/js/55.38aa9161.js"><link rel="prefetch" href="/assets/js/56.d6071fd5.js"><link rel="prefetch" href="/assets/js/57.7b2999dc.js"><link rel="prefetch" href="/assets/js/58.6ef9816f.js"><link rel="prefetch" href="/assets/js/59.f41a4d1d.js"><link rel="prefetch" href="/assets/js/60.a404db6d.js"><link rel="prefetch" href="/assets/js/61.ca8e718c.js"><link rel="prefetch" href="/assets/js/62.182e6904.js"><link rel="prefetch" href="/assets/js/63.d7b51859.js"><link rel="prefetch" href="/assets/js/64.c349dbba.js"><link rel="prefetch" href="/assets/js/65.1615f233.js"><link rel="prefetch" href="/assets/js/66.77b710de.js"><link rel="prefetch" href="/assets/js/67.e9c3bb2c.js"><link rel="prefetch" href="/assets/js/68.7f40d4a2.js"><link rel="prefetch" href="/assets/js/69.d909d747.js"><link rel="prefetch" href="/assets/js/7.92c41863.js"><link rel="prefetch" href="/assets/js/70.1b5450b1.js"><link rel="prefetch" href="/assets/js/71.6d459616.js"><link rel="prefetch" href="/assets/js/72.ac7590b5.js"><link rel="prefetch" href="/assets/js/73.1b4eeed5.js"><link rel="prefetch" href="/assets/js/74.31817cde.js"><link rel="prefetch" href="/assets/js/75.07455673.js"><link rel="prefetch" href="/assets/js/76.57d5177a.js"><link rel="prefetch" href="/assets/js/77.c2a7858c.js"><link rel="prefetch" href="/assets/js/78.b56b5d5c.js"><link rel="prefetch" href="/assets/js/79.19780f89.js"><link rel="prefetch" href="/assets/js/8.0efb528e.js"><link rel="prefetch" href="/assets/js/80.c8e3e8f2.js"><link rel="prefetch" href="/assets/js/81.83c1eae0.js"><link rel="prefetch" href="/assets/js/82.8e6c7373.js"><link rel="prefetch" href="/assets/js/83.e08f774a.js"><link rel="prefetch" href="/assets/js/84.ca8b6199.js"><link rel="prefetch" href="/assets/js/85.536efa7c.js"><link rel="prefetch" href="/assets/js/86.f7236beb.js"><link rel="prefetch" href="/assets/js/87.6e4f7c44.js"><link rel="prefetch" href="/assets/js/88.ed950339.js"><link rel="prefetch" href="/assets/js/89.57c8a4aa.js"><link rel="prefetch" href="/assets/js/9.4dbfbfd1.js"><link rel="prefetch" href="/assets/js/90.fea4e72b.js"><link rel="prefetch" href="/assets/js/91.33075a43.js"><link rel="prefetch" href="/assets/js/92.64b0f0a7.js"><link rel="prefetch" href="/assets/js/93.d69fa150.js"><link rel="prefetch" href="/assets/js/94.1e52fbe4.js"><link rel="prefetch" href="/assets/js/95.640071f0.js"><link rel="prefetch" href="/assets/js/96.48bd869d.js"><link rel="prefetch" href="/assets/js/97.e066f165.js"><link rel="prefetch" href="/assets/js/98.a15189b1.js"><link rel="prefetch" href="/assets/js/99.1f864c92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3543fb06.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cmty256.github.io/imgs-blog/logo/白云.38zbldnhh180.jpg" alt="沉梦听雨的编程指南" class="logo"> <span class="site-name can-hide">沉梦听雨的编程指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/11aacc/" class="nav-link">基础篇</a></li><li class="dropdown-item"><!----> <a href="/pages/2e780e/" class="nav-link">集合篇</a></li><li class="dropdown-item"><!----> <a href="/pages/846d88/" class="nav-link">并发篇</a></li><li class="dropdown-item"><!----> <a href="/pages/562a37/" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/pages/a5d9a6/" class="nav-link">新特性</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7b1cb2/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/6048a8/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/pages/3b34ba/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/efa3f2/" class="nav-link">基础篇</a></li><li class="dropdown-item"><!----> <a href="/pages/ccc445/" class="nav-link">MySql</a></li><li class="dropdown-item"><!----> <a href="/pages/54616e/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/980c9c/" class="nav-link">达梦数据库</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4969e6/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/pages/72bcc7/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/pages/93b888/" class="nav-link">Mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/a54fbc/" class="nav-link">Shiro</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系统设计" class="dropdown-title"><!----> <span class="title" style="display:;">系统设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/649916/" class="nav-link">设计须知</a></li><li class="dropdown-item"><!----> <a href="/pages/3fcc71/" class="nav-link">UML画图</a></li><li class="dropdown-item"><!----> <a href="/pages/793d0a/" class="nav-link">权限校验</a></li><li class="dropdown-item"><!----> <a href="/pages/6ea7eb/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c6222f/" class="nav-link">API网关</a></li><li class="dropdown-item"><!----> <a href="/pages//" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/pages/2f66e5/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/pages/75e0cf/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/957695/" class="nav-link">分布式事务</a></li><li class="dropdown-item"><!----> <a href="/pages/2beec7/" class="nav-link">云存储</a></li><li class="dropdown-item"><!----> <a href="/pages/9f26dc/" class="nav-link">多媒体框架</a></li><li class="dropdown-item"><!----> <a href="/pages/412fe7/" class="nav-link">虚拟机</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发日常" class="dropdown-title"><!----> <span class="title" style="display:;">开发日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/626493/" class="nav-link">开发工具篇</a></li><li class="dropdown-item"><!----> <a href="/pages/bdbd1f/" class="nav-link">工具库篇</a></li><li class="dropdown-item"><!----> <a href="/pages/cc202d/" class="nav-link">开发技巧篇</a></li><li class="dropdown-item"><!----> <a href="/pages/dea09d/" class="nav-link">工具类系列</a></li><li class="dropdown-item"><!----> <a href="/pages/3cd6be/" class="nav-link">随笔</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习" class="dropdown-title"><!----> <span class="title" style="display:;">前端学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3eeffb/" class="nav-link">前端环境搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/99897f/" class="nav-link">HTML与CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/51542d/" class="nav-link">JS学习</a></li><li class="dropdown-item"><!----> <a href="/pages/803f9d/" class="nav-link">Vue3入门</a></li><li class="dropdown-item"><!----> <a href="/pages/ca4cfb/" class="nav-link">Vue3进阶</a></li><li class="dropdown-item"><!----> <a href="/pages/50e8d3/" class="nav-link">黑马Vue3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目笔记" class="dropdown-title"><!----> <span class="title" style="display:;">项目笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ebb9f9/" class="nav-link">脚手架搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/fbc2fc/" class="nav-link">瑞吉外卖</a></li><li class="dropdown-item"><!----> <a href="/pages/ee76ba/" class="nav-link">黑马点评</a></li><li class="dropdown-item"><!----> <a href="/pages/fa01b6/" class="nav-link">vue-blog</a></li><li class="dropdown-item"><!----> <a href="/pages/b363e2/" class="nav-link">沉梦接口开放平台</a></li><li class="dropdown-item"><!----> <a href="/pages/72b962/" aria-current="page" class="nav-link router-link-exact-active router-link-active">用户中心</a></li><li class="dropdown-item"><!----> <a href="/pages/8baa93/" class="nav-link">聚合搜索平台</a></li><li class="dropdown-item"><!----> <a href="/pages/a6b2f3/" class="nav-link">仿12306项目</a></li><li class="dropdown-item"><!----> <a href="/pages/a2c11e/" class="nav-link">RuoYi-Vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><!----> <span class="title" style="display:;">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fa256e/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/335531/" class="nav-link">网站收藏箱</a></li><li class="dropdown-item"><!----> <a href="/pages/94109b/" class="nav-link">断墨寻径摘录</a></li><li class="dropdown-item"><!----> <a href="/pages/22f2c8/" class="nav-link">费曼学习法</a></li></ul></div></div> <a href="https://github.com/cmty256" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cmty256.github.io/picx-images-hosting/logo/0bd74b62680d5dc2d82d50efcac4546.8adfdu46qo.jpg"> <div class="blogger-info"><h3>沉梦听雨</h3> <span>时间是最好的浸渍剂，而沉淀是最好的提纯器🚀</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/11aacc/" class="nav-link">基础篇</a></li><li class="dropdown-item"><!----> <a href="/pages/2e780e/" class="nav-link">集合篇</a></li><li class="dropdown-item"><!----> <a href="/pages/846d88/" class="nav-link">并发篇</a></li><li class="dropdown-item"><!----> <a href="/pages/562a37/" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/pages/a5d9a6/" class="nav-link">新特性</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7b1cb2/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/6048a8/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/pages/3b34ba/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/efa3f2/" class="nav-link">基础篇</a></li><li class="dropdown-item"><!----> <a href="/pages/ccc445/" class="nav-link">MySql</a></li><li class="dropdown-item"><!----> <a href="/pages/54616e/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/980c9c/" class="nav-link">达梦数据库</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4969e6/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/pages/72bcc7/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/pages/93b888/" class="nav-link">Mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/a54fbc/" class="nav-link">Shiro</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系统设计" class="dropdown-title"><!----> <span class="title" style="display:;">系统设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/649916/" class="nav-link">设计须知</a></li><li class="dropdown-item"><!----> <a href="/pages/3fcc71/" class="nav-link">UML画图</a></li><li class="dropdown-item"><!----> <a href="/pages/793d0a/" class="nav-link">权限校验</a></li><li class="dropdown-item"><!----> <a href="/pages/6ea7eb/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c6222f/" class="nav-link">API网关</a></li><li class="dropdown-item"><!----> <a href="/pages//" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/pages/2f66e5/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/pages/75e0cf/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/957695/" class="nav-link">分布式事务</a></li><li class="dropdown-item"><!----> <a href="/pages/2beec7/" class="nav-link">云存储</a></li><li class="dropdown-item"><!----> <a href="/pages/9f26dc/" class="nav-link">多媒体框架</a></li><li class="dropdown-item"><!----> <a href="/pages/412fe7/" class="nav-link">虚拟机</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发日常" class="dropdown-title"><!----> <span class="title" style="display:;">开发日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/626493/" class="nav-link">开发工具篇</a></li><li class="dropdown-item"><!----> <a href="/pages/bdbd1f/" class="nav-link">工具库篇</a></li><li class="dropdown-item"><!----> <a href="/pages/cc202d/" class="nav-link">开发技巧篇</a></li><li class="dropdown-item"><!----> <a href="/pages/dea09d/" class="nav-link">工具类系列</a></li><li class="dropdown-item"><!----> <a href="/pages/3cd6be/" class="nav-link">随笔</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习" class="dropdown-title"><!----> <span class="title" style="display:;">前端学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3eeffb/" class="nav-link">前端环境搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/99897f/" class="nav-link">HTML与CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/51542d/" class="nav-link">JS学习</a></li><li class="dropdown-item"><!----> <a href="/pages/803f9d/" class="nav-link">Vue3入门</a></li><li class="dropdown-item"><!----> <a href="/pages/ca4cfb/" class="nav-link">Vue3进阶</a></li><li class="dropdown-item"><!----> <a href="/pages/50e8d3/" class="nav-link">黑马Vue3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目笔记" class="dropdown-title"><!----> <span class="title" style="display:;">项目笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ebb9f9/" class="nav-link">脚手架搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/fbc2fc/" class="nav-link">瑞吉外卖</a></li><li class="dropdown-item"><!----> <a href="/pages/ee76ba/" class="nav-link">黑马点评</a></li><li class="dropdown-item"><!----> <a href="/pages/fa01b6/" class="nav-link">vue-blog</a></li><li class="dropdown-item"><!----> <a href="/pages/b363e2/" class="nav-link">沉梦接口开放平台</a></li><li class="dropdown-item"><!----> <a href="/pages/72b962/" aria-current="page" class="nav-link router-link-exact-active router-link-active">用户中心</a></li><li class="dropdown-item"><!----> <a href="/pages/8baa93/" class="nav-link">聚合搜索平台</a></li><li class="dropdown-item"><!----> <a href="/pages/a6b2f3/" class="nav-link">仿12306项目</a></li><li class="dropdown-item"><!----> <a href="/pages/a2c11e/" class="nav-link">RuoYi-Vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><!----> <span class="title" style="display:;">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fa256e/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/335531/" class="nav-link">网站收藏箱</a></li><li class="dropdown-item"><!----> <a href="/pages/94109b/" class="nav-link">断墨寻径摘录</a></li><li class="dropdown-item"><!----> <a href="/pages/22f2c8/" class="nav-link">费曼学习法</a></li></ul></div></div> <a href="https://github.com/cmty256" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/ebb9f9/" class="sidebar-link">脚手架搭建</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>瑞吉外卖</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>黑马点评</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue-blog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>沉梦接口开放平台</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>用户中心</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/72b962/" aria-current="page" class="active sidebar-link">设计思路</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/72b962/#企业做项目流程" class="sidebar-link">企业做项目流程</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#需求分析" class="sidebar-link">需求分析</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#技术选型" class="sidebar-link">技术选型</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#_3-种初始化-java-项目的方式" class="sidebar-link">3 种初始化 Java 项目的方式</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#数据库设计" class="sidebar-link">数据库设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#什么是设计数据库表" class="sidebar-link">什么是设计数据库表？</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#用户表设计" class="sidebar-link">用户表设计</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#自动生成器的使用" class="sidebar-link">自动生成器的使用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#注册逻辑设计" class="sidebar-link">注册逻辑设计</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#登录功能" class="sidebar-link">登录功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#接口设计" class="sidebar-link">接口设计</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#登录逻辑" class="sidebar-link">登录逻辑</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#如何知道是哪个用户登录了" class="sidebar-link">如何知道是哪个用户登录了？</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#用户管理" class="sidebar-link">用户管理</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#写代码流程" class="sidebar-link">写代码流程</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#前后端交互" class="sidebar-link">前后端交互</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#前端请求库及封装关系" class="sidebar-link">前端请求库及封装关系</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#代理" class="sidebar-link">代理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#举例" class="sidebar-link">举例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#前端框架介绍" class="sidebar-link">前端框架介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#ant-design-pro-umi-框架-权限管理" class="sidebar-link">Ant Design Pro（Umi 框架）权限管理</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#procomponents-高级表单" class="sidebar-link">ProComponents 高级表单</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#框架关系" class="sidebar-link">框架关系</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#其他知识" class="sidebar-link">其他知识</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#后端优化" class="sidebar-link">后端优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#通用返回对象" class="sidebar-link">通用返回对象</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#封装全局异常处理器" class="sidebar-link">封装全局异常处理器</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#实现-2" class="sidebar-link">实现</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#作用" class="sidebar-link">作用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#前端优化" class="sidebar-link">前端优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#全局响应处理" class="sidebar-link">全局响应处理</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#用户校验" class="sidebar-link">用户校验</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#多环境" class="sidebar-link">多环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#前端多环境实战" class="sidebar-link">前端多环境实战</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#后端多环境实战" class="sidebar-link">后端多环境实战</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#项目部署" class="sidebar-link">项目部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#原始部署" class="sidebar-link">原始部署</a></li><li class="sidebar-sub-header level4"><a href="/pages/72b962/#前端" class="sidebar-link">前端</a></li><li class="sidebar-sub-header level4"><a href="/pages/72b962/#后端" class="sidebar-link">后端</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#宝塔-linux-部署" class="sidebar-link">宝塔 Linux 部署</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#前端托管" class="sidebar-link">前端托管</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#docker-部署" class="sidebar-link">Docker 部署</a></li><li class="sidebar-sub-header level3"><a href="/pages/72b962/#docker-平台部署" class="sidebar-link">Docker 平台部署</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#绑定域名" class="sidebar-link">绑定域名</a></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#跨域问题解决" class="sidebar-link">跨域问题解决</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/72b962/#添加跨域头" class="sidebar-link">添加跨域头</a></li><li class="sidebar-sub-header level4"><a href="/pages/72b962/#_1-网关支持-nginx" class="sidebar-link">1. 网关支持（Nginx）</a></li><li class="sidebar-sub-header level4"><a href="/pages/72b962/#_2-修改后端服务" class="sidebar-link">2. 修改后端服务</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/72b962/#项目优化点" class="sidebar-link">项目优化点</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>聚合搜索平台</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>仿12306项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RuoYi-Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>项目笔记</span></li><li data-v-06225672><span data-v-06225672>用户中心</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/cmty256" target="_blank" title="作者" class="beLink" data-v-06225672>沉梦听雨</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-06-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">设计思路<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="用户中心直播笔记-完整版"><a href="#用户中心直播笔记-完整版" class="header-anchor">#</a> 用户中心直播笔记（完整版）</h1> <p>目标：完整了解做项目的思路，接触一些企业级的开发技术，让大家之后都能轻松做出管理系统！</p> <h2 id="企业做项目流程"><a href="#企业做项目流程" class="header-anchor">#</a> 企业做项目流程</h2> <p>需求分析 =&gt; 设计（概要设计、详细设计）=&gt; 技术选型 =&gt; 初始化 / 引入需要的技术 =&gt; 写 Demo =&gt; 写代码（实现业务逻辑） =&gt; 测试（单元测试、系统测试）=&gt; 代码提交 / 代码评审 =&gt; 部署 =&gt; 发布上线</p> <h2 id="需求分析"><a href="#需求分析" class="header-anchor">#</a> 需求分析</h2> <ol><li>登录 / 注册</li> <li>用户管理（仅管理员可见）对用户的查询或者修改</li> <li>用户校验（仅星球用户可见）</li></ol> <h2 id="技术选型"><a href="#技术选型" class="header-anchor">#</a> 技术选型</h2> <p>前端：三件套 + React + 组件库 Ant Design + Umi + Ant Design Pro（现成的管理系统）</p> <p>后端：</p> <ul><li>java</li> <li>spring（依赖注入框架，帮助你管理 Java 对象，集成一些其他的内容）</li> <li>springmvc（web 框架，提供接口访问、restful接口等能力）</li> <li>mybatis（Java 操作数据库的框架，持久层框架，对 jdbc 的封装）</li> <li>mybatis-plus（对 mybatis 的增强，不用写 sql 也能实现增删改查）</li> <li>springboot（<strong>快速启动</strong> / 快速集成项目。不用自己管理 spring 配置，不用自己整合各种框架）</li> <li>junit 单元测试库</li> <li>mysql 数据库</li></ul> <p>部署：服务器 / 容器（平台）</p> <blockquote><p>开源某一个项目的时候，要记得隐藏数据库的<strong>用户名，密码</strong>等信息</p> <p>常用编程语言的包管理工具：</p> <ul><li>Java 语言有 <a href="https://link.juejin.cn?target=https%3A%2F%2Fsearch.maven.org%2F" target="_blank" rel="noopener noreferrer">Maven 仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、Gradle；</li> <li>Go 语言有 dep 和 glide；</li> <li>Python 语言有 pip；</li> <li>Ruby 语言有 Gem 与 Bundler；</li> <li>PHP 语言有 （据说是最好的编程语言）Composer；</li> <li>Node.js 有多个包管理工具 <a href="https://link.juejin.cn?target=https%3A%2F%2Fnpmjs.com" target="_blank" rel="noopener noreferrer">NPM 仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://link.juejin.cn?target=https%3A%2F%2Fyarnpkg.com%2F" target="_blank" rel="noopener noreferrer">Yarn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.js.org%2F" target="_blank" rel="noopener noreferrer">PNPM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 等。</li></ul></blockquote> <h2 id="_3-种初始化-java-项目的方式"><a href="#_3-种初始化-java-项目的方式" class="header-anchor">#</a> 3 种初始化 Java 项目的方式</h2> <ol><li>GitHub 搜现成的代码</li> <li>SpringBoot 官方的模板生成器（https://start.spring.io/）</li> <li>直接在 IDEA 开发工具中生成  ✔</li></ol> <p>如果要引入 java 的包，可以去 maven 中心仓库寻找（http://mvnrepository.com/）</p> <h2 id="数据库设计"><a href="#数据库设计" class="header-anchor">#</a> 数据库设计</h2> <p>什么是数据库？存数据的</p> <p>数据库里有什么？数据表（理解为 excel 表格）</p> <p>java 操作数据库？程序代替人工</p> <h3 id="什么是设计数据库表"><a href="#什么是设计数据库表" class="header-anchor">#</a> 什么是设计数据库表？</h3> <p>有哪些表（模型）？表中有哪些字段？字段的类型？数据库字段添加索引？表与表之间的关联？</p> <p>举例：性别是否需要加索引？</p> <h3 id="用户表设计"><a href="#用户表设计" class="header-anchor">#</a> 用户表设计</h3> <p>id（主键）bigint</p> <p>username 昵称  varchar</p> <p>userAccount 登录账号</p> <p>avatarUrl 头像 varchar</p> <p>gender 性别 tinyint</p> <p>userPassword 密码  varchar</p> <p>phone 电话 varchar</p> <p>email 邮箱 varchar</p> <p>userStatus 用户状态 int  0 - 正常</p> <p>createTime 创建时间（数据插入时间）datetime</p> <p>updateTime 更新时间（数据更新时间）datetime</p> <p>isDelete 是否删除 0 1（逻辑删除）tinyint</p> <p>userRole 用户角色 0 - 普通用户 1 - 管理员</p> <blockquote><p><img alt="image-20230524085607088" data-src="https://cmty256.github.io/imgs-blog/images/image-20230524085607088.png" loading="lazy" class="lazy"></p> <p>字段名变橙色，很可能是因为这个字段名是关键字</p> <p>tinyint 范围：0-255 ，1 字节</p> <p><img alt="image-20230524092318131" data-src="https://cmty256.github.io/imgs-blog/images/image-20230524092318131.png" loading="lazy" class="lazy"></p></blockquote> <h3 id="自动生成器的使用"><a href="#自动生成器的使用" class="header-anchor">#</a> 自动生成器的使用</h3> <p>MyBatisX 插件，自动根据数据库生成：</p> <ul><li>domain：实体对象</li> <li>mapper：操作数据库的对象</li> <li>mapper.xml：定义了 mapper 对象和数据库的关联，可以在里面自己写 SQL</li> <li>service：包含常用的增删改查</li> <li>serviceImpl：具体实现 service</li></ul> <p>从而提高开发效率！</p> <blockquote><p>Mapper 类中 继承的 <code>BaseMapper&lt;&gt;</code></p> <p>是 Mybatis-Plus 的</p></blockquote> <h2 id="注册逻辑设计"><a href="#注册逻辑设计" class="header-anchor">#</a> 注册逻辑设计</h2> <ol><li>用户在前端输入账户和密码、以及校验码（todo）</li> <li>校验用户的账户、密码、校验密码，是否符合要求
<ol><li>非空</li> <li>账户长度 <strong>不小于</strong> 4 位</li> <li>密码就 <strong>不小于</strong> 8 位吧</li> <li>账户不能重复</li> <li>账户不包含特殊字符</li> <li>密码和校验密码相同</li></ol></li> <li>对密码进行加密（<strong>密码千万不要直接以明文存储到数据库中</strong>）</li> <li>向数据库插入用户数据</li></ol> <blockquote><p>前后端都需要写校验</p> <p>因为前端校验很容易绕过，只能防部分群体，不安全</p> <p>什么是 commons 依赖？</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-lang3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>比如可以使用 <code>StringUtils.isAnyBlank(a, b, c)</code> 来校验参数为非空</p> <p>先做好必须的校验再从数据库中查询或操作，有利于性能的优化，避免不必要的数据库操作</p> <p>在实现类 Impl 中，注入 mapper 来写逻辑操作可能会使代码清晰一些，不写也可以，直接用 <code>this.</code></p></blockquote> <h2 id="登录功能"><a href="#登录功能" class="header-anchor">#</a> 登录功能</h2> <h3 id="接口设计"><a href="#接口设计" class="header-anchor">#</a> 接口设计</h3> <p>接受参数：用户账户、密码</p> <p>请求类型：POST</p> <p>请求体：JSON 格式的数据</p> <blockquote><p>请求参数很长时或不太清楚参数会有多长时，不建议用 get</p> <p>而且 get 有长度限制，一般用于查询操作</p></blockquote> <p>返回值：用户信息（ <strong>脱敏</strong> ）</p> <h3 id="登录逻辑"><a href="#登录逻辑" class="header-anchor">#</a> 登录逻辑</h3> <ol><li><p>校验用户账户和密码是否合法</p> <ol><li>非空</li> <li>账户长度不小于 4 位</li> <li>密码就不小于 8 位</li> <li>账户不包含特殊字符</li></ol></li> <li><p>校验密码是否输入正确，要和数据库中的密文密码去对比</p></li> <li><p>用户信息脱敏，隐藏敏感信息，防止数据库中的字段泄露</p></li> <li><p>我们要记录用户的登录态（session），将其存到服务器上（用后端 SpringBoot 框架封装的服务器 tomcat 去记录）</p> <p>cookie</p></li> <li><p>返回脱敏后的用户信息</p></li></ol> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <p>控制层 Controller 封装请求</p> <p>application.yml 指定接口全局路径前缀：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>servlet:
  context-path: /api
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>控制器注解：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@RestController 适用于编写 restful 风格的 api，返回值默认为 json 类型
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>校验写在哪里？</p> <ul><li>controller 层倾向于对请求参数本身的校验，不涉及业务逻辑本身（越少越好）</li> <li>service 层是对业务逻辑的校验（有可能被 controller 之外的类调用）</li></ul> <h3 id="如何知道是哪个用户登录了"><a href="#如何知道是哪个用户登录了" class="header-anchor">#</a> 如何知道是哪个用户登录了？</h3> <blockquote><p>javaweb 这一块的知识，请求参数里有个 request</p></blockquote> <ol><li><p>连接服务器端后，得到一个 session 状态（匿名会话），返回给前端</p></li> <li><p>登录成功后，得到了登录成功的 session，并且给该sessio n设置一些值（比如用户信息），返回给前端一个设置 cookie 的 ”命令“</p> <p><strong>session =&gt; cookie</strong></p></li> <li><p>前端接收到后端的命令后，设置 cookie，保存到浏览器内</p></li> <li><p>前端再次请求后端的时候（相同的域名），在请求头中带上cookie去请求</p></li> <li><p>后端拿到前端传来的 cookie，找到对应的 session</p></li> <li><p>后端从 session 中可以取出基于该 session 存储的变量（用户的登录信息、登录名）</p></li></ol> <h2 id="用户管理"><a href="#用户管理" class="header-anchor">#</a> 用户管理</h2> <p>接口设计关键：必须鉴权！！！</p> <ol><li>查询用户（允许根据用户名查询）</li> <li>删除用户（// 这里也可以用 DeleteMapping ，但不建议用，因为看得不明确）</li></ol> <blockquote><p>接口中的属性默认是 <code>public static</code></p></blockquote> <h2 id="写代码流程"><a href="#写代码流程" class="header-anchor">#</a> 写代码流程</h2> <ol><li>先做设计</li> <li>代码实现</li> <li>持续优化！！！（复用代码、提取公共逻辑 / 常量）</li></ol> <h2 id="前后端交互"><a href="#前后端交互" class="header-anchor">#</a> 前后端交互</h2> <p>前端需要向后端发送请求才能获取数据 / 执行操作。</p> <p>怎么发请求：前端使用 ajax 来请求后端</p> <h3 id="前端请求库及封装关系"><a href="#前端请求库及封装关系" class="header-anchor">#</a> 前端请求库及封装关系</h3> <ul><li><p>axios 封装了 ajax</p></li> <li><p>request 是 ant design 项目又封装了一次</p></li></ul> <p>追踪 request 源码：用到了 umi 的插件、requestConfig 配置文件</p> <h2 id="代理"><a href="#代理" class="header-anchor">#</a> 代理</h2> <p>正向代理：替客户端向服务器发送请求，可以解决跨域问题</p> <p>反向代理：替服务器统一接收请求。</p> <p>怎么实现代理？</p> <ul><li>Nginx 服务器</li> <li>Node.js 服务器</li></ul> <h3 id="举例"><a href="#举例" class="header-anchor">#</a> 举例</h3> <p>原本请求：http://localhost:8000/api/user/login</p> <p>代理到请求：http://localhost:8080/api/user/login</p> <p><img alt="image" data-src="https://cmty256.github.io/imgs-blog/images/image.75abtsbp5ko0.jpg" loading="lazy" class="lazy"></p> <h2 id="前端框架介绍"><a href="#前端框架介绍" class="header-anchor">#</a> 前端框架介绍</h2> <h3 id="ant-design-pro-umi-框架-权限管理"><a href="#ant-design-pro-umi-框架-权限管理" class="header-anchor">#</a> Ant Design Pro（Umi 框架）权限管理</h3> <ul><li>app.tsx：项目全局入口文件，定义了整个项目中使用的公共数据（比如用户信息）</li> <li>access.ts 控制用户的访问权限</li></ul> <p>获取初始状态流程：首次访问页面（刷新页面），进入 app.tsx，执行 getInitialState 方法，该方法的返回值就是全局可用的状态值。</p> <h3 id="procomponents-高级表单"><a href="#procomponents-高级表单" class="header-anchor">#</a> ProComponents 高级表单</h3> <ol><li>通过 columns 定义表格有哪些列</li> <li>columns 属性
<ul><li>dataIndex 对应返回数据对象的属性</li> <li>title 表格列名</li> <li>copyable 是否允许复制</li> <li>ellipsis 是否允许缩略</li> <li>valueType：用于声明这一列的类型（dateTime、select）</li></ul></li></ol> <h3 id="框架关系"><a href="#框架关系" class="header-anchor">#</a> 框架关系</h3> <p>Ant Design 组件库 =&gt; 基于 React 实现</p> <p>Ant Design Procomponents =&gt; 基于 Ant Design 实现</p> <p>Ant Design Pro 后台管理系统 =&gt; 基于 Ant Design + React + Ant Design Procomponents + 其他的库实现</p> <h3 id="其他知识"><a href="#其他知识" class="header-anchor">#</a> 其他知识</h3> <p>MFSU：前端编译优化</p> <h2 id="后端优化"><a href="#后端优化" class="header-anchor">#</a> 后端优化</h2> <h3 id="通用返回对象"><a href="#通用返回对象" class="header-anchor">#</a> 通用返回对象</h3> <p>目的：给对象补充一些信息，告诉前端这个请求在业务层面上是成功还是失败</p> <p>200、404、500、502、503</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yupi&quot;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 成功</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 业务状态码</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yupi&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 错误</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">50001</span> <span class="token comment">// 业务状态码</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
	<span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;用户操作异常、xxx&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>自定义错误码，返回类支持返回正常和错误</p> <h3 id="封装全局异常处理器"><a href="#封装全局异常处理器" class="header-anchor">#</a> 封装全局异常处理器</h3> <h3 id="实现-2"><a href="#实现-2" class="header-anchor">#</a> 实现</h3> <ol><li><p>定义业务异常类</p> <ol><li>相对于 java 的异常类，支持更多字段</li> <li>自定义构造函数，更灵活 / 快捷的设置字段</li></ol></li> <li><p>编写全局异常处理器（利用 Spring AOP，在调用方法前后进行额外的处理）</p></li></ol> <h3 id="作用"><a href="#作用" class="header-anchor">#</a> 作用</h3> <ol><li>捕获代码中所有的异常，内部消化，让前端得到更详细的业务报错 / 信息</li> <li>同时屏蔽掉项目框架本身的异常（不暴露服务器内部状态）</li> <li>集中处理，比如记录日志</li></ol> <h2 id="前端优化"><a href="#前端优化" class="header-anchor">#</a> 前端优化</h2> <blockquote><p>直播的 0：00 - 0：35 为踩坑过程，可跳过</p></blockquote> <h3 id="全局响应处理"><a href="#全局响应处理" class="header-anchor">#</a> 全局响应处理</h3> <p>应用场景：我们需要对接口的 <strong>通用响应</strong> 进行统一处理，比如从 response 中取出 data；或者根据 code 去集中处理错误，比如用户未登录、没权限之类的。</p> <p>优势：不用在每个接口请求中都去写相同的逻辑</p> <p>实现：参考你用的请求封装工具的官方文档，比如 umi-request（https://github.com/umijs/umi-request#interceptor、https://blog.csdn.net/huantai3334/article/details/116780020）。如果你用 <strong>axios</strong>，参考 axios 的文档。</p> <p>创建新的文件，在该文件中配置一个全局请求类。在发送请求时，使用我们自己的定义的全局请求类。</p> <h2 id="用户校验"><a href="#用户校验" class="header-anchor">#</a> 用户校验</h2> <blockquote><p>仅适用于用户可信的情况</p></blockquote> <p>先让用户自己填：2 - 5 位编号，全凭自觉。</p> <p>后台补充对编号的校验：长度校验、唯一性校验</p> <p>前端补充输入框，适配后端。</p> <blockquote><p>后期拉取星球数据，定期清理违规用户</p></blockquote> <h2 id="多环境"><a href="#多环境" class="header-anchor">#</a> 多环境</h2> <p>参考文章：https://blog.csdn.net/weixin_41701290/article/details/120173283</p> <p>本地开发：localhost（127.0.0.1）</p> <p>多环境：指同一套项目代码在不同的阶段需要根据实际情况来调整配置并且部署到不同的机器上。</p> <p>为什么需要？</p> <ol><li>每个环境互不影响</li> <li>区分不同的阶段：开发 / 测试 / 生产</li> <li>对项目进行优化：
<ol><li>本地日志级别</li> <li>精简依赖，节省项目体积</li> <li>项目的环境 / 参数可以调整，比如 JVM 参数</li></ol></li></ol> <p>针对不同环境做不同的事情。</p> <p>多环境分类：</p> <ol><li>本地环境（自己的电脑）localhost</li> <li>开发环境（远程开发）大家连同一台机器，为了大家开发方便</li> <li>测试环境（测试）开发 / 测试 / 产品，单元测试 / 性能测试 / 功能测试 / 系统集成测试，独立的数据库、独立的服务器</li> <li>预发布环境（体验服）：和正式环境一致，正式数据库，更严谨，查出更多问题</li> <li>正式环境（线上，公开对外访问的项目）：尽量不要改动，保证上线前的代码是 “完美” 运行</li> <li>沙箱环境（实验环境）：为了做实验</li></ol> <h3 id="前端多环境实战"><a href="#前端多环境实战" class="header-anchor">#</a> 前端多环境实战</h3> <ul><li><p>请求地址</p> <ul><li><p>开发环境：localhost:8000</p></li> <li><p>线上环境：user-backend.code-nav.cn</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">startFront</span><span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>env <span class="token operator">===</span> <span class="token string">'prod'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不输出注释 </span>
        <span class="token comment">// 项目优化</span>
        <span class="token comment">// 修改请求地址</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 保持本地开发逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>用了 umi 框架，build 时会自动传入 NODE_ENV == production 参数，start NODE_ENV 参数为 development</p></li> <li><p>启动方式</p> <ul><li>开发环境：npm run start（本地启动，监听端口、自动更新）</li> <li>线上环境：npm run build（项目构建打包），可以使用 serve 工具启动（npm i -g serve）</li></ul></li> <li><p>项目的配置</p> <p>不同的项目（框架）都有不同的配置文件，umi 的配置文件是 config，可以在配置文件后添加对应的环境名称后缀来区分开发环境和生产环境。参考文档：https://umijs.org/zh-CN/docs/deployment</p> <ul><li>开发环境：config.dev.ts</li> <li>生产环境：config.prod.ts</li> <li>公共配置：config.ts 不带后缀</li></ul></li></ul> <h3 id="后端多环境实战"><a href="#后端多环境实战" class="header-anchor">#</a> 后端多环境实战</h3> <p>SpringBoot 项目，通过 application.yml 添加不同的后缀来区分配置文件</p> <p>可以在启动项目时传入环境变量：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> .<span class="token punctuation">\</span>user-center-backend-0.0.1-SNAPSHOT.jar <span class="token parameter variable">--spring.profiles.active</span><span class="token operator">=</span>prod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>主要是改：</p> <ul><li><p>依赖的环境地址</p> <ul><li><p>数据库地址</p></li> <li><p>缓存地址</p></li> <li><p>消息队列地址</p></li> <li><p>项目端口号</p></li></ul></li> <li><p>服务器配置</p></li></ul> <h2 id="项目部署"><a href="#项目部署" class="header-anchor">#</a> 项目部署</h2> <p>参考文章：https://www.bilibili.com/read/cv16179200</p> <p>需要 Linux 服务器（建议大家用 CentOS 8+ / 7.6 以上）</p> <h3 id="原始部署"><a href="#原始部署" class="header-anchor">#</a> 原始部署</h3> <p>什么都自己装</p> <h4 id="前端"><a href="#前端" class="header-anchor">#</a> 前端</h4> <p>需要 web 服务器：<strong>nginx</strong> 、apache、tomcat</p> <p>安装 nginx 服务器：</p> <ol><li><p>用系统自带的软件包管理器快速安装，比如 centos 的 yum</p></li> <li><p>自己到官网安装（参考文章）</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-o</span> nginx-1.21.6.tar.gz http://nginx.org/download/nginx-1.21.6.tar.gz

<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> nginx-1.21.6.tar.gz

<span class="token builtin class-name">cd</span> nginx-1.21.6

   <span class="token number">37</span>  <span class="token number">2022</span>-04-17 <span class="token number">23</span>:30:09 yum <span class="token function">install</span> pcre pcre-devel <span class="token parameter variable">-y</span>
   <span class="token number">39</span>  <span class="token number">2022</span>-04-17 <span class="token number">23</span>:30:59 yum <span class="token function">install</span> openssl openssl-devel <span class="token parameter variable">-y</span>
   <span class="token number">41</span>  <span class="token number">2022</span>-04-17 <span class="token number">23</span>:31:57 ./configure --with-http_ssl_module --with-http_v2_module --with-stream
   <span class="token number">42</span>  <span class="token number">2022</span>-04-17 <span class="token number">23</span>:32:13 <span class="token function">make</span>
   <span class="token number">43</span>  <span class="token number">2022</span>-04-17 <span class="token number">23</span>:32:54 <span class="token function">make</span> <span class="token function">install</span>
   <span class="token number">48</span>  <span class="token number">2022</span>-04-17 <span class="token number">23</span>:33:40 <span class="token function">ls</span> /usr/local/nginx/sbin/nginx
   <span class="token function">vim</span> /etc/profile
  在最后一行添加：export <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/nginx/sbin	
  
  nginx
  
  <span class="token function">netstat</span> <span class="token parameter variable">-ntlp</span> 查看启动情况
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>注意 nginx 权限</p></li></ol> <h4 id="后端"><a href="#后端" class="header-anchor">#</a> 后端</h4> <p>java、maven</p> <p>安装：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> java-1.8.0-openjdk*

<span class="token function">curl</span> <span class="token parameter variable">-o</span> apache-maven-3.8.5-bin.tar.gz https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz

<span class="token function">git</span> clone xxx 下载代码

打包构建，跳过测试
mvn package <span class="token parameter variable">-DskipTests</span>

<span class="token function">java</span> <span class="token parameter variable">-jar</span> ./user-center-backend-0.0.1-SNAPSHOT.jar <span class="token parameter variable">--spring.profiles.active</span><span class="token operator">=</span>prod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="宝塔-linux-部署"><a href="#宝塔-linux-部署" class="header-anchor">#</a> 宝塔 Linux 部署</h3> <p>Linux 运维面板</p> <p>官方安装教程：https://www.bt.cn/new/download.html</p> <p>方便管理服务器、方便安装软件</p> <h3 id="前端托管"><a href="#前端托管" class="header-anchor">#</a> 前端托管</h3> <p>前端腾讯云 web 应用托管（比容器化更傻瓜式，不需要自己写构建应用的命令，就能启动前端项目）</p> <blockquote><p>https://console.cloud.tencent.com/webify/new</p></blockquote> <ul><li>小缺点：需要将代码放到代码托管平台上</li> <li>优势：不用写命令、代码更新时自动构建</li></ul> <h3 id="docker-部署"><a href="#docker-部署" class="header-anchor">#</a> Docker 部署</h3> <p>docker 是容器，可以将项目的环境（比如 java、nginx）和项目的代码一起打包成镜像，所有同学都能下载镜像，更容易分发和移植。</p> <p>再启动项目时，不需要敲一大堆命令，而是直接下载镜像、启动镜像就可以了。</p> <p>docker 可以理解为软件安装包。</p> <p>Docker 安装：https://www.docker.com/get-started/ 或者宝塔安装</p> <p>Dockerfile 用于指定构建 Docker 镜像的方法</p> <p>Dockerfile 一般情况下不需要完全从 0 自己写，建议去 github、gitee 等托管平台参考同类项目（比如 springboot）</p> <p>Dockerfile 编写：</p> <ul><li>FROM 依赖的基础镜像</li> <li>WORKDIR 工作目录</li> <li>COPY 从本机复制文件</li> <li>RUN 执行命令</li> <li>CMD / ENTRYPOINT（附加额外参数）指定运行容器时默认执行的命令</li></ul> <p>根据 Dockerfile 构建镜像：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 后端</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> user-center-backend:v0.0.1 <span class="token builtin class-name">.</span>

<span class="token comment"># 前端</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> user-center-front:v0.0.1 <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Docker 构建优化：减少尺寸、减少构建时间（比如多阶段构建，可以丢弃之前阶段不需要的内容）</p> <p>docker run 启动：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 前端</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> user-center-frontend:v0.0.1

<span class="token comment"># 后端</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 user-center-backend:v0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>虚拟化</p> <ol><li>端口映射：把本机的资源（实际访问地址）和容器内部的资源（应用启动端口）进行关联</li> <li>目录映射：把本机的端口和容器应用的端口进行关联</li></ol> <p>进入容器：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-t</span>  fee2bbb7c9ee /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看进程：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看日志：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> <span class="token punctuation">[</span>container-id<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>杀死容器：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">kill</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>强制删除镜像：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> rmi <span class="token parameter variable">-f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="docker-平台部署"><a href="#docker-平台部署" class="header-anchor">#</a> Docker 平台部署</h3> <ol><li>云服务商的容器平台（腾讯云、阿里云）</li> <li>面向某个领域的容器平台（前端 / 后端微信云托管）<strong>要花钱！</strong></li></ol> <p>容器平台的好处：</p> <ol><li>不用输命令来操作，更方便省事</li> <li>不用在控制台操作，更傻瓜式、更简单</li> <li>大厂运维，比自己运维更省心</li> <li>额外的能力，比如监控、告警、其他（存储、负载均衡、自动扩缩容、流水线）</li></ol> <p>爽就完事了！！！</p> <h2 id="绑定域名"><a href="#绑定域名" class="header-anchor">#</a> 绑定域名</h2> <p>前端项目访问流程：用户输入网址 =&gt; 域名解析服务器（把网址解析为 ip 地址 / 交给其他的域名解析服务） =&gt; 服务器 =&gt;（防火墙）=&gt; nginx 接收请求，找到对应的文件，返回文件给前端 =&gt; 前端加载文件到浏览器中（js、css） =&gt; 渲染页面</p> <p>后端项目访问流程：用户输入网址 =&gt; 域名解析服务器 =&gt; 服务器 =&gt; nginx 接收请求 =&gt; 后端项目（比如 8080端口）</p> <p>nginx 反向代理的作用：替服务器接收请求，转发请求</p> <h2 id="跨域问题解决"><a href="#跨域问题解决" class="header-anchor">#</a> 跨域问题解决</h2> <p>浏览器为了用户的安全，仅允许向 <strong>同域名、同端口</strong> 的服务器发送请求。</p> <p>如何解决跨域？</p> <p>最直接的方式：把域名、端口改成相同的</p> <h3 id="添加跨域头"><a href="#添加跨域头" class="header-anchor">#</a> 添加跨域头</h3> <p>让服务器告诉浏览器：允许跨域（返回 cross-origin-allow 响应头）</p> <h4 id="_1-网关支持-nginx"><a href="#_1-网关支持-nginx" class="header-anchor">#</a> 1. 网关支持（Nginx）</h4> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token comment"># 跨域配置</span>
<span class="token directive"><span class="token keyword">location</span> ^~ /api/</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">proxy_pass</span> http://127.0.0.1:8080/api/</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token variable">$http_origin</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Credentials'</span> <span class="token string">'true'</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> Access-Control-Allow-Methods <span class="token string">'GET, POST, OPTIONS'</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> Access-Control-Allow-Headers <span class="token string">'*'</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">if</span> (<span class="token variable">$request_method</span> = <span class="token string">'OPTIONS'</span>)</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Credentials'</span> <span class="token string">'true'</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token variable">$http_origin</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Methods'</span> <span class="token string">'GET, POST, OPTIONS'</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token string">'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range'</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Max-Age'</span> <span class="token number">1728000</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Content-Type'</span> <span class="token string">'text/plain; charset=utf-8'</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Content-Length'</span> <span class="token number">0</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">return</span> <span class="token number">204</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_2-修改后端服务"><a href="#_2-修改后端服务" class="header-anchor">#</a> 2. 修改后端服务</h4> <ol><li><p>配置 @CrossOrigin 注解</p></li> <li><p>添加 web 全局请求拦截器</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebMvcConfg</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
 
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCorsMappings</span><span class="token punctuation">(</span><span class="token class-name">CorsRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//设置允许跨域的路径</span>
        registry<span class="token punctuation">.</span><span class="token function">addMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span>
                <span class="token comment">//设置允许跨域请求的域名</span>
                <span class="token comment">//当**Credentials为true时，**Origin不能为星号，需为具体的ip地址【如果接口不带cookie,ip无需设成具体ip】</span>
                <span class="token punctuation">.</span><span class="token function">allowedOrigins</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:9527&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:9527&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:8082&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:8083&quot;</span><span class="token punctuation">)</span>
                <span class="token comment">//是否允许证书 不再默认开启</span>
                <span class="token punctuation">.</span><span class="token function">allowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token comment">//设置允许的方法</span>
                <span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>
                <span class="token comment">//跨域允许时间</span>
                <span class="token punctuation">.</span><span class="token function">maxAge</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li> <li><p>定义新的 corsFilter Bean，参考：https://www.jianshu.com/p/b02099a435bd</p></li></ol> <h2 id="项目优化点"><a href="#项目优化点" class="header-anchor">#</a> 项目优化点</h2> <ol><li>功能扩充
<ol><li>管理员创建用户、修改用户信息、删除用户</li> <li>上传头像</li> <li>按照更多的条件去查询用户</li> <li>更改权限</li></ol></li> <li>修改 Bug</li> <li>项目登录改为分布式 session（单点登录 - redis）</li> <li>通用性
<ol><li>set-cookie domain 域名更通用，比如改为 *.xxx.com</li> <li>把用户管理系统 =&gt; 用户中心（之后所有的服务都请求这个后端）</li></ol></li> <li>后台添加全局请求拦截器（统一去判断用户权限、统一记录请求日志）</li></ol></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/292456/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">笔记</div></a> <a href="/pages/8baa93/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">文档1</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/292456/" class="prev">笔记</a></span> <span class="next"><a href="/pages/8baa93/">文档1</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:2691357857@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/cmty256" title="Github" target="_blank" class="iconfont icon-github"></a><a href="https://blog.csdn.net/qq_54088234?spm=1011.2124.3001.5343" title="CSDN" target="_blank" class="iconfont icon-csdn"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2025
    <span>沉梦听雨 | <a href="https://gitee.com/dream-deeply-tyu" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><!----><div></div></div></div>
    <script src="/assets/js/app.c5b6e775.js" defer></script><script src="/assets/js/2.02bc9df6.js" defer></script><script src="/assets/js/277.615493a1.js" defer></script><script src="/assets/js/6.9155b086.js" defer></script>
  </body>
</html>
